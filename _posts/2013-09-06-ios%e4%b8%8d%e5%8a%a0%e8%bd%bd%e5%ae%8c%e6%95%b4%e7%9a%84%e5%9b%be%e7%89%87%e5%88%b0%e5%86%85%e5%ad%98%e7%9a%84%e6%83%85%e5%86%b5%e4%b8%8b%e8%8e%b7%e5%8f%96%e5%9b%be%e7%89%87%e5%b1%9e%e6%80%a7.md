---
title: '[iOS]不加载完整的图片到内存的情况下获取图片属性'
author: admin
layout: post
permalink: /ios%e4%b8%8d%e5%8a%a0%e8%bd%bd%e5%ae%8c%e6%95%b4%e7%9a%84%e5%9b%be%e7%89%87%e5%88%b0%e5%86%85%e5%ad%98%e7%9a%84%e6%83%85%e5%86%b5%e4%b8%8b%e8%8e%b7%e5%8f%96%e5%9b%be%e7%89%87%e5%b1%9e%e6%80%a7/
categories:
  - iOS
tags:
  - UIImage
---
<pre class="lang:objc decode:true">//#import &lt;ImageIO/ImageIO.h&gt;
    //Some path
    NSString* path = [[[NSBundle mainBundle] resourcePath] stringByAppendingPathComponent:@"back-btn.png"];
    NSURL* imageFileURL = [NSURL fileURLWithPath:path];
    CGImageSourceRef imageSource = CGImageSourceCreateWithURL((__bridge CFURLRef)imageFileURL, NULL);
    if (imageSource) {
        NSDictionary* options = @{(NSString*)kCGImageSourceShouldCache:@NO};
        CFDictionaryRef imageProperties = CGImageSourceCopyPropertiesAtIndex(imageSource, 0, (__bridge CFDictionaryRef)options);
        if (imageProperties) {
            NSLog( @"properties: %@", imageProperties);
            CFRelease(imageProperties);
        }
    } else {
        NSLog(@" Error loading image");
    }</pre>

原文：http://www.cocoachina.com/bbs/read.php?tid=152835